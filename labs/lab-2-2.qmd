---
title: "Lab 2-2 - Demographic predictors of public transit accesibility"
author: "Hamish Gibbs"
institute:
  - Network Science Institute, Northeastern University
  - NETS 7983 Computational Urban Science
  - Last updated `r Sys.Date()`
format: html
code-line-numbers: false
execute:
  echo: true
#  cache: true
  warning: false
  messages: false
editor: visual
logo: ./img/sunlab.png
footer: "CUS, Northeastern Spring 2025"
link-external-icon: true
link-external-newwindow: true
bibliography: references.bib
---

## Objective

Building on the data from Lab 2-1, in this practical we will conduct a (relatively) simple analysis of public transit accessibility in Boston. We want to answer the basic question: *what demographic and socioeconomic factors predict public transit accessibility?*

This analysis will rely on the ideas of *residential anchoring* and *proximity-based accessibility* (meaning that accessibility of public transit can be understood based on the distance between an individual's home and their nearest public transit station). This is a popular idea in traditional urban studies, behind the idea of popular concepts such as food deserts. However, findings from "fast" behavioral data have begun to show the problems with taking this approach to understanding urban systems. While you work through this practical, consider factors which may be driving public transit accessibility but are not captured by the census, and how we can use behavioral data in future weeks to better understand features of urban life like access to and use of public transit.

Also, remember to keep in mind that we are identifying *correlations* between census variables, not causation. It is worth considering *why* certain demographic variables are correlated with lower / higher accessibility to public transit, and how we might address that question by combining census data with other behavioral big data.

## Before starting:

-   Load the required packages

    ```{r}
    library(tidycensus)
    ```

## Loading Data

To start, lets download a selection of demographic and socioeconomic variables that we hypothesize could be related to public transit accesibility. We can start with the following:

\[TODO r code defining variable names and codes\]

Next, lets load these data for CBGs in the Boston CBSA (Metropolitan Area).

```{r}
TODO
```

Finally, we can load in public transit stations from OSM using the code from Pratical 2-1.

\[TODO\]

## Defining public transit accessibility

We will use a simple measure of public transit accessibility: the distance from an individual's home CBG to the nearest public transit station. Note that this measure captures only one aspect of accessibility: when an individual leaves / returns home. It does not factor in the importance of public transit routing, or other transit options.

We can define accessibility by computing the distance between the centroid of each CBG and every public transit station, taking the minimum value for each CBG.

\[TODO\]

## Modelling transit accessibility

Now, we can use a simple regression model to relate our measure of transit accessibility with the demographic and socioeconomic characteristics of different CBGs.

\[TODO\]

What do we find?

## Challenge: Extend this analysis

## Closing thoughts